---
key: /2023/02/20/Week13-Day1,2,3html
title: TIL - 13주차 코드
tags: java servlet jsp spring
---

# 1. 4대 저장소, spring   : 230220

### 1) 4대 저장소

- input.jsp

```jsp

<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>

<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>   
<c:set var="site" value=""/>
 
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

	<a href="/webprj2/input?p=2&q=hello&s=15">2</a> 
	<br>
	<a href="/webprj2/input?p=3&q=hello&s=15">3</a> 
	<br>
	<a href="/webprj2/input?p=4&q=hello&s=15">4</a> 
	<br>
	
	<div>
		page : ${page} , query : ${query} , size : ${requestScope.size}
	</div>
		
	<form action="/webprj2/input" method="get"> 
		 <label>page:</label>
		 <input type="text" name="p"><br>
		 <label>검색어 : </label>
		 <input type="text" name="q"><br>
		 <label>size:</label>
		 <input type="text" name="s"><br>
 		<input type="submit" value="제출">
	</form>

</body>
</html>

```

<br>
- inputController.java

```java
package com.newlecture.web;

import java.io.IOException;
import java.io.PrintWriter;

import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;

@WebServlet("/input")
public class InputController extends HttpServlet {
		
	@Override
		protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		
		
		// 1. 쿼리 스트링을 이용한 입력 
		// 쿼리(질의) : 사용자가 문서를 달라고 하는 것 + 추가적으로 제공하게 되는 옵션 값을 쿼리 스트링이라고 한다.  
		// 웹이 기본적으로 요청할 때 옵션 값이다. 
		// 하지만, 이것은 서버가 기본적으로 이러한 옵션을 제공해주어야 사용이 가능하다.

		// 예시 : 페이지, 검색어, 레코드 개수, 기간, .... 
		// 전달된 내용은 무조건 String 형이다. 바로 문자열을 사용할 수 없어서 정수로 쓰기 위해서는 형변환을 해주어야 한다.		
		response.setContentType("text/html; charset=utf-8");	
		
		
		String page = request.getParameter("p");
		String query  = request.getParameter("q");
		String size = request.getParameter("s");
		
		
		// 그럼 요청 방법은?
		PrintWriter out = response.getWriter();
		// out.printf("%s %s %s ", page, query, size);
		
		// s는 size이다. 웹의 주소는 100자 내외의 길이 제한했던 부분이 있다.
		
		
		
		// 2. form을 이용한 입력
		// 사실 쿼리 스트링은 사용자가 전달하는 값이라기 보다 페이지를 제공하는 쪽에서 정해진 값을 선택하게 하는 방식입니다 
		// 예를 들어서 쿼리스트링은 사용자가 URI창을 직접 편집하는 것이 아니라 다음처럼 링크에 있는 경우가 일반적입니다.
		// <a href="/input?p=2&q=hello&s=15“>2</a> 
		// <a href=”/input?p=3&q=hello&s=15“>1</a>
		
		// 위와 같이 이미 정해진 값들 중에 하나의 링크를 선택함으로써 입력을 요청하게 됩니다 .
		// 반면에 사용자가 값을 직접 입력하게 하고 싶다면 어떻게 할까? 그 때는 form을 제공함으로써 입력을 하게 합니다.
		
		out.write (String.format ("page:%s, query:%s, size:%s<br>", page, query, size));
		
		out.write("<form action=\"/webprj2/input\" method=\"get\">"); 
		out.write(" <label>page:</label>");
		out.write(" <input type=\"text\" name=\"p\"><br>");
		out.write(" <label>검색어 : </label>") ;
		out.write(" <input type=\"text\" name=\"q\"><br>");
		out.write(" <label>size:</label>");
		out.write(" <input type=\"text\" name=\"s\"><br>");
		out.write(" <input type=\"submit\" value=\"제출\">");
		out.write("</form>");
	
		
		request.setAttribute("page", page);
		request.setAttribute("query", query);
		request.setAttribute("size", size);
		
		
		// [EL 저장소]
		// 4대 저장소에서 데이터가 저장된다. 
		// page-request-session-application 순서로 EL 태그를 찾는다.
		
		// model이 있을 때, tag library로 변수가 생성되어 값이 저장되어 있으면, 우선 순위가 밀린다.
		// 그때 model에 우선순위를 주기 위해서 Scope를 사용해서 콕 집어 준다. (requestScope)
 		
		
		
		
		// 3. 쿠키 입력 
		
		
		// 4. Header 입력 
		
		
		
		// 3. hidden 필드  입력 
		
		
		
		
	
		
		request.getRequestDispatcher("WEB-INF/view/input.jsp").forward(request, response);
		
		
	}
}

```

- 4대 저장소 정리 :




---

<br><br>

### 2) 4대 저장소


















